<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Overview | Clustar </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Overview | Clustar ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="overview">Overview</h2>

<p>The last step in the group-detection pipeline is fitting a bivariate Gaussian model on each of the detected groups in order to find anomalous groups (i.e. do not conform to the bivariate Gaussian shape). In this package, all of the fitting-related methods are listed in the module <code>fit.py</code>.</p>
<h2 id="fit-bivariate-gaussian">Fit Bivariate Gaussian</h2>
<p>Generally, many protostellar objects have a disk-like shape that conforms to a bivariate Gaussian distribution. The input parameters for this model are the two-dimensional weighted means and the associated covariance matrix.</p>
<center>
    <img src="../image/equation.png" width="500">
</center>
<br>
<p>In the Clustar package, the <code>compute_fit</code> method calculates the respective bivariate Gaussian model for each detected group in the FITS image. Then, a min-max normalization is performed on the bivariate Gaussian model with respect to the original data. The residuals are obtained by taking the difference of the intensities between the model and the observed data. Shown below are the normalized bivariate Gaussian models (depicted on the right) associated with each detection (depicted on the left), given the previous FITS image.</p>
<center>
    <img src="../image/fit_model.png" width="600">
</center>
<h2 id="ellipse-construction">Ellipse Construction</h2>
<p>Although the min-max normalization aligns the model to the original data, this process causes the tail ends of the bivariate Gaussian model be an unreliable estimate. To exclude these tail ends, the <code>compute_ellipse</code> method constructs an ellipse from the respective group statistics. The <code>alpha</code> parameter designates the size of this ellipse in relation to the $\chi^2$ distribution. Shown below is a depiction of how the <code>alpha</code> parameter affects the size of the ellipse.</p>
<center>
    <img src="../image/alpha_parameter.png" width="750">
</center>
<h2 id="residual-analysis">Residual Analysis</h2>
<p>Before the residuals are converted into a numerical score, the absolute value of the residuals inside of the ellipse are taken and these values are binned between $[0, 1]$ in the <code>compute_metrics</code> method. Shown below are the processed residuals for the previously depicted groups.</p>
<center>
    <img src="../image/residuals.png" width="600">
</center>
<p>Given a <code>metric</code> (e.g. average, standard deviation, variance) and a <code>threshold</code>, these processed residuals can help determine which detections conform to the model bivariate Gaussian as well as those that do not. For this package, the default is set the variance metric at a threshold of $0.01$. From the sample FITS image, the variances of these residuals are $0.1483$ and $0.0028$ for groups 1 and 2, respectively. Since the first group's score exceeds the default threshold, this group is flagged for manual review (depicted in red). In contrast, the second group's score is below the default threshold; as a result, this group conforms to the model bivariate Gaussian shape (depicted in green).</p>
<center>
    <img src="../image/sample_output.png" width="600">
</center>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/clustar/clustar.github.io/blob/main/docs/articles/fitting.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © 2021 Clustar<br>Generated with <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
